---
title: vim 編輯器 
preview: vim 是一種方便的文字編輯器，有許多的快速鍵能加快開發的速度，還有須多的外掛可以增強功能，讓使用者能在雙手不離開鍵盤的情況下，就有非常快速的開發體驗。
date: 2021/03/08
tag: 
  - vim
  - linux
---

# vim 編輯器

vim 是一種方便的文字編輯器，有許多的快速鍵能加快開發的速度，還有須多的外掛可以增強功能，讓使用者能在雙手不離開鍵盤的情況下，就有非常快速的開發體驗。

在許多的 linux 系統中都已經內建了 vim ，且 vim 是運行在純文字介面中，無須 GUI 所以能在任何環境下使用。若想要在 vscode 中使用 vim， vscode 也提供了 plugin。

## vim 的模式切換

vim 分為三種模式

- 一般模式 `(Command Mode)`
  - vim 預設的模式，在一進入到 vim 時就是這個模式，可以執行一些簡單的指令，像是移動游標，或是刪除貼上等等動作都是在這個模式中執行。
- 編輯模式 `(Insert Mode)`
  - 在編輯模式中，就只能輸入文字來編輯檔案，無法使用任何在一般模式下可以使用的指令，要離開時，按下 `esc` 即可離開。
- 指令模式 `(Command-line Mode)`
  - 在一般模式下，按下 `:` 、`/`、`?` 其中一的符號即可進入，可以進行搜尋、存檔、離開等等動作。

簡單來說，一般模式可以和另外兩個模式互相切換，另外兩個模式則無法互相切換。

## 簡易執行

### 進入 vim 開始編輯

如果要編輯 `welecome.txt` 這個檔案時，輸入：

```bash
vim welecome.txt
```

這樣就可以進入 vim 來編輯檔案了，並且要記得，一開始進入的模式是一般模式，並不是編輯模式，所以輸入任何文字，都無法編輯文件。

### 離開 vim

新手遇到或誤入 vim 時，最常問的問題大概就是要怎麼離開 vim 了吧，甚至在 github 還有這個 [repo](https://github.com/hakluke/how-to-exit-vim) 來探討要如何離開 vim，其實最簡單的方法，就是在一般模式中，按下 `:` 進入指令模式並輸入 `q` 就可以離開，其中 `q` 就是 quit 的意思。

```bash
:q
```

但是若已經編輯了文件，可能會因為 vim 的保護而離不開，這時有兩個選項，一個是存檔後離開，另一個就是不保存強制離開。

若要保存，可以輸入指令 `w` ，就是 `write` 的意思，若要保存並離開，可以一起輸入 `wq` 來執行保存並離開。

```bash
:w
:wq
```

若要強制離開，可以在指令後面加上一個驚嘆號，即為 `q!`。

```bash
:q!
```

### 移動游標

鍵盤的上下左右就可以移動光標，鍵盤上的 `h`、`j`、`k`、`l` 四個按鈕也分別對應，左、下、上、右。仔細看就會發現這四個按鈕就在一直線。

- g 左
- j 下
- k 上
- l 右

若要移動到文件的最上方可以按兩下鍵盤上的 g 即為輸入 `gg` ，若要移動到文件最尾端可以輸入大寫 `G`。

一次移動一個文字可以按下 `w`，前一個文字按下 `b`。

許多指令都可以搭配數字表示重複，例如輸入 `5j` ，就會往下移動五行，若輸入 `30gg` 就可以到第 30 行。

### 進入編輯模式

要進入編輯模式，最簡單的方式就是按下 `i` ，這個 `i` 代表 `insert`。若要在光標的下一個字元中進入編輯模式可以按下小寫 `a`，要在這行的最尾端則按下大寫 `A`，下一行按下小寫 `o`，上一行則是大寫 `O`。

## 搜尋文件

在一般模式下按下 `/` 進入搜尋模式，在 `/` 後輸入要搜尋的字串再按下 enter 就可以進行搜尋。

要搜尋下一筆，按下小 `n`，上一筆搜尋則為大 `N`，這樣就可以快速的將游標切換到需要的文字處。

## 指令統整

### 移動光標

| 指令  | 效果   |
| --- | ---- |
| h   | 向左   |
| j   | 向下   |
| k   | 向上   |
| l   | 向右   |
| gg  | 文件開頭 |
| G   | 文件尾端 |

### 編輯模式

| 指令  | 效果          |
| --- | ----------- |
| i   | 從目前游標處插入    |
| a   | 下從下一個字元處插入  |
| A   | 從列的末端插入     |
| o   | 向下一列處插入新的一列 |
| O   | 向上一列插入新的一列  |
